{"version":3,"file":"static/js/257.778173cb.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.styled.jsx","pages/MovieDetails/MovieDetails.jsx","services/api.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Section = styled.section`\n  margin-top: ${p => p.theme.space[9]}px;\n  padding-left: ${p => p.theme.space[5]}px;\n  padding-right: ${p => p.theme.space[5]}px;\n  padding-bottom: ${p => p.theme.space[5]}px;\n`;\n\nexport const BackLink = styled(Link)`\n  border: ${p => p.theme.borders.normal};\n  border-color: ${p => p.theme.colors.borders};\n  border-radius: ${p => p.theme.radii.small};\n  padding: ${p => p.theme.space[3]}px;\n`;\n\nexport const MoreLink = styled(Link)``;\n","import { Outlet, useParams, useLocation } from 'react-router-dom';\nimport { Suspense } from 'react';\nimport { getMovieById } from 'services/api';\nimport { useState, useEffect } from 'react';\nimport { Section } from './MovieDetails.styled';\nimport { BackLink, MoreLink } from './MovieDetails.styled';\n\nconst Status = {\n  idle: 'IDLE',\n  pending: 'PENDING',\n  resolved: 'RESOLVED',\n  rejected: 'REJECTED',\n};\nconst { idle, pending, resolved, rejected } = Status;\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState({});\n  const [status, setStatus] = useState(idle);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n\n  useEffect(() => {\n    setStatus(pending);\n    getMovieById(movieId)\n      .then(r => {\n        setMovie(r);\n        setStatus(resolved);\n      })\n      .catch(error => {\n        console.log(error);\n        setStatus(rejected);\n      });\n  }, [movieId]);\n\n  const {\n    poster_path,\n    original_title,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n  } = movie;\n\n  return (\n    <main>\n      <Section>\n        {status === resolved && (\n          <>\n            <BackLink to={backLinkHref}>Back</BackLink>\n            <img\n              src={'https://image.tmdb.org/t/p/original/' + poster_path}\n              alt={original_title}\n            />\n            <h1>\n              {original_title} {`(${release_date.slice(0, 4)})`}\n            </h1>\n            <p>User Score: {vote_average * 10}%</p>\n            <h2>Overview</h2>\n            <p>{overview}</p>\n            <h2>Genres</h2>\n            <p>\n              {genres.reduce(\n                (allGenres, genre) => allGenres + ', ' + genre.name,\n                ''\n              )}\n            </p>\n            <h2>Additional information</h2>\n            <MoreLink to=\"cast\">Cast</MoreLink>\n            <MoreLink to=\"reviews\">Reviews</MoreLink>\n            <Suspense fallback={<div>Loading...</div>}>\n              <Outlet />\n            </Suspense>\n          </>\n        )}\n        {status === idle && <p>HI HI HI !!!</p>}\n      </Section>\n    </main>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = '0d2fc6d2597c3f501e7437cf40d08b03';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const getPopularMovies = async () => {\n  const searchParams = new URLSearchParams({\n    api_key: API_KEY,\n  });\n  const URL = `${BASE_URL}/trending/movie/day?${searchParams}`;\n  try {\n    const response = await axios.get(URL);\n    return response.data.results;\n  } catch (error) {\n    return error;\n  }\n};\n\nexport const getRequestedMovies = async request => {\n  const searchParams = new URLSearchParams({\n    api_key: API_KEY,\n    query: request,\n  });\n  const URL = `${BASE_URL}/search/movie?${searchParams}`;\n  try {\n    const response = await axios.get(URL);\n    return response.data.results;\n  } catch (error) {\n    return error;\n  }\n};\n\nexport const getMovieById = async id => {\n  const searchParams = new URLSearchParams({\n    api_key: API_KEY,\n  });\n  const URL = `${BASE_URL}/movie/${id}?${searchParams}`;\n  try {\n    const response = await axios.get(URL);\n    return response.data;\n  } catch (error) {\n    return error;\n  }\n};\n\nexport const getMovieCast = async id => {\n  const searchParams = new URLSearchParams({\n    api_key: API_KEY,\n  });\n  const URL = `${BASE_URL}/movie/${id}/credits?${searchParams}`;\n  try {\n    const response = await axios.get(URL);\n    return response.data.cast;\n  } catch (error) {\n    return error;\n  }\n};\n\nexport const getMovieReviews = async id => {\n  const searchParams = new URLSearchParams({\n    api_key: API_KEY,\n  });\n  const URL = `${BASE_URL}/movie/${id}/reviews?${searchParams}`;\n  try {\n    const response = await axios.get(URL);\n    return response.data.results;\n  } catch (error) {\n    return error;\n  }\n};\n"],"names":["Section","styled","p","theme","space","BackLink","Link","borders","normal","colors","radii","small","MoreLink","idle","pending","resolved","rejected","useState","movie","setMovie","status","setStatus","movieId","useParams","backLinkHref","useLocation","state","from","useEffect","getMovieById","then","r","catch","error","console","log","poster_path","original_title","release_date","vote_average","overview","genres","to","src","alt","slice","reduce","allGenres","genre","name","Suspense","fallback","API_KEY","BASE_URL","getPopularMovies","searchParams","URLSearchParams","api_key","URL","axios","response","data","results","getRequestedMovies","request","query","id","getMovieCast","cast","getMovieReviews"],"sourceRoot":""}